const Lazily=function(t){"use strict";const e="lazily",n=["src","srcset"],r=["img","iframe"],i="querySelectorAll"in document&&"IntersectionObserver"in window&&"MutationObserver"in window,o=i?new MutationObserver(function(t){t.forEach(function(t){[].slice.call(t.addedNodes).forEach(function(t){if(!(t instanceof Element))return;const e=t.tagName.toLowerCase();if(-1!=r.indexOf(e))return a(t);[].slice.call(t.querySelectorAll(r.join(","))).forEach(a)})})}):t,c=i?new IntersectionObserver(function(t){t.forEach(function(t){t.isIntersecting&&s(t.target)})},{rootMargin:"50%"}):t;function a(t){e in t.dataset||(t.dataset[e]="","loading"in t?t.hasAttribute("loading")||t.setAttribute("loading","lazy"):(n.forEach(function(e){t.hasAttribute(e)&&(t.dataset[e]=t[e]||"",t.removeAttribute(e))}),c.observe(t)))}function s(t){c.unobserve(t),n.forEach(function(e){e in t.dataset&&(t[e]=t.dataset[e],delete t.dataset[e])})}function u(){c&&[].slice.call(c.takeRecords()).forEach(function(t){s(t.target)})}return i&&(o.observe(document.documentElement,{childList:!0}),window.addEventListener("beforeprint",u)),{forceLoad:function(){return u(),this},getObserved:function(){if(c)return[].slice.call(c.takeRecords()).map(function(t){return t.target})},isSupported:function(){return i}}}();
